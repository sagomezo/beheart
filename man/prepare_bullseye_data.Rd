% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/prepare_data.R
\name{prepare_bullseye_data}
\alias{prepare_bullseye_data}
\title{Reshape a Wide Data Frame to a Long Format for Plotting}
\usage{
prepare_bullseye_data(data, segment_map, id_cols = NULL, values_to = "value")
}
\arguments{
\item{data}{The wide-format data frame.}

\item{segment_map}{A named character or numeric vector. The names should be
the column names in \code{data} that correspond to the segments, and the values
should be the corresponding segment numbers (1-17).}

\item{id_cols}{A character vector of column names to keep as identifiers
(e.g., patient ID, group, etc.). These columns will be preserved in the
long-format data frame.}

\item{values_to}{The name of the new column that will store the segment values
(e.g., strain measurements). Defaults to "value".}
}
\value{
A data frame in long format, ready for use with \code{plot_bullseye_from_df()}.
}
\description{
This helper function transforms a data frame from a wide format (one row per
subject, with segments in separate columns) to the long format required by
\code{plot_bullseye_from_df()}.
}
\examples{
# --- Step 1: Create a sample wide-format data frame ---
# This is a common format, with one row per patient.
wide_df <- data.frame(
  patient_id = c("Pat_01", "Pat_02", "Pat_03"),
  group = c("A", "B", "A"),
  basal_ant = c(-20.1, -22.4, -19.8),
  basal_sept = c(-21.5, -23.1, -20.5),
  mid_ant = c(-18.9, -20.0, -19.2)
)

# --- Step 2: Create the map linking column names to segment numbers ---
# The names of the vector are your column names.
# The values of the vector are the standard 1-17 segment numbers.
seg_map <- c(
  "basal_ant" = 1,
  "basal_sept" = 2,
  "mid_ant" = 7
)

# --- Step 3: Reshape the data ---
long_df <- prepare_bullseye_data(
  data = wide_df,
  segment_map = seg_map,
  id_cols = c("patient_id", "group"),
  values_to = "strain"
)

print(long_df)
}
